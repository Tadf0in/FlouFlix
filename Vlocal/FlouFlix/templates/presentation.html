{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="{%  static 'favicon.ico' %}">
    <link rel="stylesheet" href="{% static 'css/presentation.css' %}">
    <title>FlouFlix</title>
</head>
<body>
    <div class="presentation">
        <img src="{% static 'img/logo-django.png' %}">
        <hr>
        <ul>
            <li>Framework Web Python de haut niveau</li>

            <li>Construit par des développeurs expérimentés.</li>

            <li>Gère de nombreux problèmes rencontrés durant le développement Web</li>
            
            <li>Gratuit et open source</li>

            <li>Conçu pour faire passer le concept à la réalisation le plus rapidement possible</li>

            <li>Aide à éviter de nombreuses erreurs de sécurité courantes</li>
    
            <li>Certains des sites les plus fréquentés du Web utilisent Django (Instagram, Pinterest, Mozilla, ...)</li>    
        </ul>
    </div>
    <div class="exemples">
        <h1>Exemples</h1>
        <h4>1) Fonctionnement simplifié d'une application :</h4>
        <div class="exemple">
            <p>
                Un projet Django va être constitué d'une ou plusieurs applications. <br>
                Chaque application va avoir la structure par défaut suivante : <br>
                <br>
                &nbsp;&nbsp;&nbsp; <img src="{% static 'img/structure-app.png' %}"> <br>
                <br>
                Les fichiers qui vont nous intéresser en particulier sont : <i>views.py</i>  et <i>urls.py</i>
            </p>
    
            <h5>views.py</h5>
            <p class="fichier">
                C'est ce ficier qui va dire ce que nous renvoie une page consultée. <br>
                Par exemple, la fonction <strong>index</strong> du fichier ci-dessous va nous retourner une page affichant "Hello, world." <br>
                <br>
                <img src="{% static 'img/views-py.png' %}">
            </p>
    
            <h5>urls.py</h5>
            <p class="fichier">
                Ce fichier va servir de répertoire, c'est lui qui va rediriger vers la bonne page en regardant l'url. <br>
                Dans ce fichier on importe le fichier <i>views.py</i> vu précedemment. <br>
                <br>
                <img src="{% static 'img/urls-py.png' %}"> <br>
                C'est la variable <strong>urlpatterns</strong> qui va lister toutes les pages de l'application. <br>
                Par exemple ici, le 1er argument de <strong>path</strong> est une chaîne de caractère vide, ce qui correspond à la page affichée à la racine de l'application. <br>
                Cette fonction <strong>path</strong> définit alors que la page à la racine de l'application affichera ce que retourne la fonction <strong>index</strong> du fichier <i>views</i> vu précedemment. <br>
                Si l'on se rend sur cette page on verra donc afficher "Hello, World."
            </p>  
            <br>
            <p>
                Il ne reste plus qu'à ajouter ce fichier répertoire de l'application dans le fichier repertoire du projet pour l'intégrer : <br>
                <br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img src="{% static 'img/project-urls-py.png' %}"> <br> 
                <br>
                Ici on définit alors que la page myapp/ affichera les pages selon le fichier 'urls.py' de l'application vue précedemment. <br>
                Si l'on se rend alors sur la page myapp/ (racine de l'application) on verra alors affiché "Hello, World.", comme définit précedemment.
            </p>
            
        </div>  

        <h4>2) Templates et variables :</h4>
        <div class="exemple">
            <p>
                Nous avons vu dans l'exemple précedent qu'une page pouvait afficher du texte. <br>
                Cependant, cela va devenir vite ennuyant pour créer une page complète, on ne va pas afficher les lignes une par une. <br>
                On va donc utiliser le principe des templates.
            </p>

            <h5>templates</h5>
            <p class="souspartie">
                Dans notre application nous allons créer un nouveau dossier <i>templates</i> où l'on ajoutera un fichier html à l'intérieur. <br>
                C'est ce fichier qui servira donc de patterne pour nos pages à afficher. <br>
                Un template est donc, dans ce cas, une page html classique, à l'exception où certaines valeurs peuvent êtres variables. <br>
                En effet, django utilise des variables et des balises, definies respectivements par <strong>{<vide>{ nom_de_la_variable }</vide>}</strong> et <strong>{<vide>% balise %</vide>}</strong> <br>
                <br>
                <img src="{% static 'img/template.png' %}">
                <br>
                Par exemple, le fichier <i>template.html</i> ci-dessus affichera la valeur de la variable <strong>ma_variable</strong>. <br>
            </p>
            <p class="souspartie">
                Nous avons maintenant un template affichant la valeur de <strong>ma_variable</strong>, cependant, il faut encore lui préciser la valeur de cette variable. <br>
                On peut par exemple indiquer sa valeur dans l'url grâce au fichier <i>urls.py</i> suivant : <br>
                <br>
                <img src="{% static 'img/url-variable.png' %}"> <br>
                <br>
                Désormais, la fonction <strong>path</strong> sera appelé avec un argument : <strong>ma_variable</strong> (dont la valeur sera celle indiqué dans l'url). <br>
                Il faut donc modifier aussi le fichier <i>views.py</i> pour qu'il prenne en compte cette variable : <br>
                <br>
                <img src="{% static 'img/views-variable.png' %}"> <br>
                <br>
                Ici, on note plusieurs qu'on utilise une fonction <strong>render</strong> et non <strong>HttpResponse</strong>. <br>
                C'est cette fonction qui va nous permettre d'utiiser les templates. <br>
                En argument de cette fonction, on lui précise le template à utiliser (ici le fichier <i>template.html</i> vu précedemment), et le contexte. <br>
                Le contexte est un dictionnaire associant une clé à une variable. C'est ces clés de ce dictionnaire qui seront appelées par le template. <br>
                <br>
                Ici on ajoute donc une clé <strong>ma_variable</strong> dans le contexte pour correspondre à ce que l'on avait dans le fichier <i>template.html</i>. <br>
                <br>
                <br>
                Finalement, lorsque l'on se rendra par exemple sur la page 'myapp/3630', il sera affiché : "Ma variable : 3630".
            </p>
        </div>
    </div>
</body>
</html>